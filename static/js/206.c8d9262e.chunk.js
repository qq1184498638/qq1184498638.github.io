"use strict";(self.webpackChunkantd_demo_ts=self.webpackChunkantd_demo_ts||[]).push([[206],{492:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var a=n(1413),r=n(9439),l=n(2791),c=n(7273),i=n(7309),o=n(6106),u=n(914),d=n(3099),m=n(6005),s=n(7092),f=n(9232),E=n(7382),v=n(6014),Z=n(47),p=n(3297),k=n(7892),h=n.n(k),y=n(3504),C=n(4925),g=n(7561),w=["checked","onCheckedChange"],I=function(e){var t=e.checked,n=e.onCheckedChange;(0,C.Z)(e,w);return l.createElement(g.Z,{count:1,value:t?1:0,onChange:function(e){return null===n||void 0===n?void 0:n(!!e)}})},b=n(6691),j=n(8962),z=n(5728),L=n(1752),Y=n(5442),_=n(9434),O=n(1465),S=c.Z.Option,T=(0,l.memo)((function(e){var t=(0,l.useState)(0),n=(0,r.Z)(t,2),f=n[0],E=n[1],v=(0,j.il)(),k=v.open,C=(v.startEdit,(0,Y.U)()),g=(C.isLoading,C.data),w=(0,j.zG)(),L=(0,r.Z)(w,2),T=L[0],M=L[1],D=(0,Z.Nr)(T,200),N=((0,p.i)(),(0,j.PY)(D,g)),U=N.isLoading,V=N.error,A=N.data,G=(0,_.I0)();(0,l.useEffect)((function(){g&&G((0,O.HM)(g))}),[G,g]);var H=(0,l.useCallback)((function(e){0===e&&(e="");var t=(0,a.Z)((0,a.Z)({},T),{},{personId:e});M(t)}),[T,M]),K=l.createElement(c.Z,{defaultValue:T.personId||0,className:"select-after",onSelect:H},l.createElement(S,{value:0},"\u8d1f\u8d23\u4eba"),null===g||void 0===g?void 0:g.map((function(e){return l.createElement(S,{key:e.id,value:e.id},e.name)}))),P=(0,l.useCallback)((function(e){M((0,a.Z)((0,a.Z)({},T),{},{name:e.target.value}))}),[T,M]);(0,Z.jr)("\u5217\u8868\u9875\u9762",!1);var W=(0,b._m)((0,j.nO)()).mutate;return l.createElement("div",null,l.createElement("span",null,f),l.createElement(i.Z,{onClick:function(){return E(f+1)}},"\u81ea\u589e"),l.createElement(o.Z,{justify:"center",style:{marginTop:50}},l.createElement(u.Z,{span:20},l.createElement(o.Z,{justify:"space-between"},l.createElement(u.Z,null,l.createElement("h1",null,"\u9879\u76ee\u5217\u8868")),l.createElement(u.Z,null,l.createElement(i.Z,{style:{width:"100%"},onClick:function(){k()}},"\u521b\u5efa\u9879\u76ee"))))),l.createElement(o.Z,{justify:"center",style:{marginTop:20}},l.createElement(u.Z,{span:20},l.createElement(d.Z,{style:{width:"100%"},size:20,direction:"vertical"},l.createElement(m.Z,{size:"large",addonAfter:K,defaultValue:"",value:T.name,onChange:P}),l.createElement(z.Tv,{error:V}),l.createElement(s.Z,{rowKey:"id",columns:[{title:l.createElement(I,{checked:!0,disabled:!0}),render:function(e,t){return l.createElement(I,{checked:t.pin,onCheckedChange:(n=t.id,function(e){W({id:n,pin:e})})});var n}},{title:"\u540d\u79f0",dataIndex:"name",sorter:function(e,t){return e.name.localeCompare(t.name)},render:function(e,t){return l.createElement(y.rU,{to:"".concat(t.id)},t.name)}},{title:"\u90e8\u95e8",dataIndex:"organization"},{title:"\u8d1f\u8d23\u4eba",render:function(e,t){var n;return l.createElement("span",null,(null===g||void 0===g||null===(n=g.find((function(e){return e.id===t.personId})))||void 0===n?void 0:n.name)||"\u672a\u77e5")}},{title:"\u521b\u5efa\u65f6\u95f4",render:function(e,t){return l.createElement("span",null,t.created?h()(t.created).format("YYYY-MM-DD"):"\u672a\u77e5")}},{title:l.createElement("div",{style:{width:"100%"}},"\u64cd\u4f5c"),render:function(e,t){return l.createElement(x,{project:t})}}],dataSource:A||[],pagination:!1,loading:U})))))})),x=function(e){var t=e.project,n=(0,j.il)().startEdit,a=(0,b.L8)((0,j.nO)()).mutate;return l.createElement(E.Z,{placement:"bottomLeft",arrow:!0,overlayStyle:{minWidth:"8rem"},overlay:l.createElement(v.Z,null,l.createElement(v.Z.Item,{key:"edit"},l.createElement(z.zL,{type:"link",onClick:function(){n(null===t||void 0===t?void 0:t.id)}},"\u7f16\u8f91")),l.createElement(v.Z.Item,{key:"delete"},l.createElement(z.zL,{onClick:function(){var e;e=null===t||void 0===t?void 0:t.id,f.Z.confirm({title:"\u786e\u5b9a\u5220\u9664\u8fd9\u4e2a\u9879\u76ee?",content:"\u70b9\u51fb\u786e\u5b9a\u5220\u9664",okText:"\u786e\u5b9a",onOk:function(){a({id:e})}})},type:"link"},"\u5220\u9664")))},l.createElement(i.Z,{style:{padding:0},type:"link"},l.createElement(L.Z,null)))},M=T}}]);
//# sourceMappingURL=206.c8d9262e.chunk.js.map